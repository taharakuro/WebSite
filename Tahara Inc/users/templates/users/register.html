{% extends 'users/template.html' %}

{% block title %}Регистрация{% endblock %}

{% block aside %}

<form method="POST" novalidate>
    {% csrf_token %}
    <h3>Регистрация</h3>

    <!-- Сообщения об ошибках -->
    {% if messages %}
        <ul class="messages">
            {% for message in messages %}
                <li class="{{ message.tags }}">{{ message }}</li>
            {% endfor %}
        </ul>
    {% endif %}

    <!-- Поля формы с отображением ошибок -->
    {{ form.non_field_errors }}
    
    {{ form.username.label_tag }}
    {{ form.username }}
    {{ form.username.errors }}

    {{ form.email.label_tag }}
    {{ form.email }}
    {{ form.email.errors }}

    {{ form.password1.label_tag }}
    {{ form.password1 }}
    {{ form.password1.errors }}

    {{ form.password2.label_tag }}
    {{ form.password2 }}
    {{ form.password2.errors }}

    <button type="submit">Зарегистрироваться</button>
    <a href="{% url 'login' %}">Вход в систему</a>
</form>

{% endblock %}
